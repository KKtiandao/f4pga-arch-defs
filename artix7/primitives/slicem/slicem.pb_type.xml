<!-- A diagram for the SLICEM is shown in;
    7 Series FPGAs CLB User Guide UG474 (v1.8) September 27, 2016
  -->
<pb_type name="BLK_IG-SLICEM" num_pb="1" xmlns:xi="http://www.w3.org/2001/XInclude">

  <input name="DI" num_pins="1"/>
  <input name="DX" num_pins="1"/>
  <input name="D1" num_pins="1"/>
  <input name="D2" num_pins="1"/>
  <input name="D3" num_pins="1"/>
  <input name="D4" num_pins="1"/>
  <input name="D5" num_pins="1"/>
  <input name="D6" num_pins="1"/>

  <input name="CI" num_pins="1"/>
  <input name="CX" num_pins="1"/>
  <input name="C1" num_pins="1"/>
  <input name="C2" num_pins="1"/>
  <input name="C3" num_pins="1"/>
  <input name="C4" num_pins="1"/>
  <input name="C5" num_pins="1"/>
  <input name="C6" num_pins="1"/>

  <input name="BI" num_pins="1"/>
  <input name="BX" num_pins="1"/>
  <input name="B1" num_pins="1"/>
  <input name="B2" num_pins="1"/>
  <input name="B3" num_pins="1"/>
  <input name="B4" num_pins="1"/>
  <input name="B5" num_pins="1"/>
  <input name="B6" num_pins="1"/>

  <input name="AI" num_pins="1"/>
  <input name="AX" num_pins="1"/>
  <input name="A1" num_pins="1"/>
  <input name="A2" num_pins="1"/>
  <input name="A3" num_pins="1"/>
  <input name="A4" num_pins="1"/>
  <input name="A5" num_pins="1"/>
  <input name="A6" num_pins="1"/>

  <input name="SR" num_pins="1"/>
  <input name="CE" num_pins="1"/>
  <input name="WE" num_pins="1"/>

  <clock name="CLK" num_pins="1"/>

  <input  name="CIN"  num_pins="1"/>
  <output name="COUT" num_pins="1"/>

  <output name="DMUX" num_pins="1"/>
  <output name="D"    num_pins="1"/>
  <output name="DQ"   num_pins="1"/>

  <output name="CMUX" num_pins="1"/>
  <output name="C"    num_pins="1"/>
  <output name="CQ"   num_pins="1"/>

  <output name="BMUX" num_pins="1"/>
  <output name="B"    num_pins="1"/>
  <output name="BQ"   num_pins="1"/>

  <output name="AMUX" num_pins="1"/>
  <output name="A"    num_pins="1"/>
  <output name="AQ"   num_pins="1"/>

  <!-- d6lut, c6lut, b6lut, a6lut == N6lut
       A fracturable 6 input LUT. Can either be;
        - 2 * 5 input, 1 output LUT
        - 1 * 6 input, 1 output LUT
    -->
  <xi:include href="Nlut/alut.pb_type.xml"/>
  <xi:include href="Nlut/blut.pb_type.xml"/>
  <xi:include href="Nlut/clut.pb_type.xml"/>
  <xi:include href="Nlut/dlut.pb_type.xml"/>

  <xi:include href="muxes/f7amux/f7amux.pb_type.xml"/>
  <xi:include href="muxes/f7bmux/f7bmux.pb_type.xml"/>
  <xi:include href="muxes/f8mux/f8mux.pb_type.xml"/>

  <xi:include href="../ff/ff.pb_type.xml" />

  <!-- CARRY4 logic -->
  <xi:include href="cyinit_constants.pb_type.xml" />
  <xi:include href="cyinit_fabric.pb_type.xml" />
  <pb_type name="BLK_IG-CARRY" num_pb="4">
    <xi:include href="carry/carry.pb_type.xml"
                xpointer="xpointer(pb_type/child::node())" />
  </pb_type>

  <interconnect>
    <!-- Normal LUT input pins -->
    <direct name="D1" input="BLK_IG-SLICEM.D1" output="BLK_IG-DLUT.A1" />
    <direct name="D2" input="BLK_IG-SLICEM.D2" output="BLK_IG-DLUT.A2" />
    <direct name="D3" input="BLK_IG-SLICEM.D3" output="BLK_IG-DLUT.A3" />
    <direct name="D4" input="BLK_IG-SLICEM.D4" output="BLK_IG-DLUT.A4" />
    <direct name="D5" input="BLK_IG-SLICEM.D5" output="BLK_IG-DLUT.A5" />
    <direct name="D6" input="BLK_IG-SLICEM.D6" output="BLK_IG-DLUT.A6" />

    <direct name="C1" input="BLK_IG-SLICEM.C1" output="BLK_IG-CLUT.A1" />
    <direct name="C2" input="BLK_IG-SLICEM.C2" output="BLK_IG-CLUT.A2" />
    <direct name="C3" input="BLK_IG-SLICEM.C3" output="BLK_IG-CLUT.A3" />
    <direct name="C4" input="BLK_IG-SLICEM.C4" output="BLK_IG-CLUT.A4" />
    <direct name="C5" input="BLK_IG-SLICEM.C5" output="BLK_IG-CLUT.A5" />
    <direct name="C6" input="BLK_IG-SLICEM.C6" output="BLK_IG-CLUT.A6" />

    <direct name="B1" input="BLK_IG-SLICEM.B1" output="BLK_IG-BLUT.A1" />
    <direct name="B2" input="BLK_IG-SLICEM.B2" output="BLK_IG-BLUT.A2" />
    <direct name="B3" input="BLK_IG-SLICEM.B3" output="BLK_IG-BLUT.A3" />
    <direct name="B4" input="BLK_IG-SLICEM.B4" output="BLK_IG-BLUT.A4" />
    <direct name="B5" input="BLK_IG-SLICEM.B5" output="BLK_IG-BLUT.A5" />
    <direct name="B6" input="BLK_IG-SLICEM.B6" output="BLK_IG-BLUT.A6" />

    <direct name="A1" input="BLK_IG-SLICEM.A1" output="BLK_IG-ALUT.A1" />
    <direct name="A2" input="BLK_IG-SLICEM.A2" output="BLK_IG-ALUT.A2" />
    <direct name="A3" input="BLK_IG-SLICEM.A3" output="BLK_IG-ALUT.A3" />
    <direct name="A4" input="BLK_IG-SLICEM.A4" output="BLK_IG-ALUT.A4" />
    <direct name="A5" input="BLK_IG-SLICEM.A5" output="BLK_IG-ALUT.A5" />
    <direct name="A6" input="BLK_IG-SLICEM.A6" output="BLK_IG-ALUT.A6" />

    <!-- W Address lines come in on the DLUT pins and go to all the LUTs. -->
    <direct name="WD1" input="BLK_IG-SLICEM.D1" output="BLK_IG-DLUT.WA1" />
    <direct name="WD2" input="BLK_IG-SLICEM.D2" output="BLK_IG-DLUT.WA2" />
    <direct name="WD3" input="BLK_IG-SLICEM.D3" output="BLK_IG-DLUT.WA3" />
    <direct name="WD4" input="BLK_IG-SLICEM.D4" output="BLK_IG-DLUT.WA4" />
    <direct name="WD5" input="BLK_IG-SLICEM.D5" output="BLK_IG-DLUT.WA5" />
    <direct name="wD6" input="BLK_IG-SLICEM.D6" output="BLK_IG-DLUT.WA6" />
    <direct name="WC1" input="BLK_IG-SLICEM.D1" output="BLK_IG-CLUT.WA1" />
    <direct name="WC2" input="BLK_IG-SLICEM.D2" output="BLK_IG-CLUT.WA2" />
    <direct name="WC3" input="BLK_IG-SLICEM.D3" output="BLK_IG-CLUT.WA3" />
    <direct name="WC4" input="BLK_IG-SLICEM.D4" output="BLK_IG-CLUT.WA4" />
    <direct name="WC5" input="BLK_IG-SLICEM.D5" output="BLK_IG-CLUT.WA5" />
    <direct name="WC6" input="BLK_IG-SLICEM.D6" output="BLK_IG-CLUT.WA6" />
    <direct name="WB1" input="BLK_IG-SLICEM.D1" output="BLK_IG-BLUT.WA1" />
    <direct name="WB2" input="BLK_IG-SLICEM.D2" output="BLK_IG-BLUT.WA2" />
    <direct name="WB3" input="BLK_IG-SLICEM.D3" output="BLK_IG-BLUT.WA3" />
    <direct name="WB4" input="BLK_IG-SLICEM.D4" output="BLK_IG-BLUT.WA4" />
    <direct name="WB5" input="BLK_IG-SLICEM.D5" output="BLK_IG-BLUT.WA5" />
    <direct name="WB6" input="BLK_IG-SLICEM.D6" output="BLK_IG-BLUT.WA6" />
    <direct name="WA1" input="BLK_IG-SLICEM.D1" output="BLK_IG-ALUT.WA1" />
    <direct name="WA2" input="BLK_IG-SLICEM.D2" output="BLK_IG-ALUT.WA2" />
    <direct name="WA3" input="BLK_IG-SLICEM.D3" output="BLK_IG-ALUT.WA3" />
    <direct name="WA4" input="BLK_IG-SLICEM.D4" output="BLK_IG-ALUT.WA4" />
    <direct name="WA5" input="BLK_IG-SLICEM.D5" output="BLK_IG-ALUT.WA5" />
    <direct name="WA6" input="BLK_IG-SLICEM.D6" output="BLK_IG-ALUT.WA6" />

    <!-- DI lines -->
    <direct name="DI" output="BLK_IG-DLUT.DI1" input="BLK_IG-SLICEM.DI" />
    <mux    name="CI" output="BLK_IG-CLUT.DI1" input="BLK_IG-SLICEM.CI BLK_IG-DLUT.MC31 BLK_IG-SLICEM.DI" />
    <mux    name="BI" output="BLK_IG-BLUT.DI1" input="BLK_IG-SLICEM.BI BLK_IG-CLUT.MC31 BLK_IG-SLICEM.DI" />
    <mux    name="AI" output="BLK_IG-ALUT.DI1" input="BLK_IG-SLICEM.AI BLK_IG-BLUT.MC31 " /> <!-- FIXME: BLK_IG-BLUT.DI1 -->

    <direct name="DX" output="BLK_IG-DLUT.DI2" input="BLK_IG-SLICEM.DX" />
    <direct name="CX" output="BLK_IG-CLUT.DI2" input="BLK_IG-SLICEM.CX" />
    <direct name="BX" output="BLK_IG-BLUT.DI2" input="BLK_IG-SLICEM.BX" />
    <direct name="AX" output="BLK_IG-ALUT.DI2" input="BLK_IG-SLICEM.AX" />

    <!-- 5FF MUXs -->
    <mux name="D5FFMUX" input="BLK_IG-SLICEM.DX BLK_IG-DLUT.O5" output="BLK_BB-SLICE_FF.D5[3]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-DLUT.O5 = D5FF.MUX.A
          BLK_IG-SLICEM.DX = D5FF.MUX.B
        </meta>
      </metadata>
    </mux>
    <mux name="C5FFMUX" input="BLK_IG-SLICEM.CX BLK_IG-CLUT.O5" output="BLK_BB-SLICE_FF.D5[2]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-CLUT.O5 = C5FF.MUX.A
          BLK_IG-SLICEM.CX = C5FF.MUX.B
        </meta>
      </metadata>
    </mux>
    <mux name="B5FFMUX" input="BLK_IG-SLICEM.BX BLK_IG-BLUT.O5" output="BLK_BB-SLICE_FF.D5[1]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-BLUT.O5 = B5FF.MUX.A
          BLK_IG-SLICEM.BX = B5FF.MUX.B
        </meta>
      </metadata>
    </mux>
    <mux name="A5FFMUX" input="BLK_IG-SLICEM.AX BLK_IG-ALUT.O5" output="BLK_BB-SLICE_FF.D5[0]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-ALUT.O5 = A5FF.MUX.A
          BLK_IG-SLICEM.AX = A5FF.MUX.B
        </meta>
      </metadata>
    </mux>

    <!-- F7AMUX inputs -->
    <direct name="F7AMUX_I0" input="BLK_IG-BLUT.O6"   output="BEL_MX-F7AMUX.I0">
     <pack_pattern in_port="BLK_IG-BLUT.O6" name="LUT5toLUT7" out_port="BEL_MX-F7AMUX.I0"/>
     <pack_pattern in_port="BLK_IG-BLUT.O6" name="LUT5toLUT8" out_port="BEL_MX-F7AMUX.I0"/>
    </direct>
    <direct name="F7AMUX_I1" input="BLK_IG-ALUT.O6"   output="BEL_MX-F7AMUX.I1">
     <pack_pattern in_port="BLK_IG-ALUT.O6" name="LUT5toLUT7" out_port="BEL_MX-F7AMUX.I1"/>
     <pack_pattern in_port="BLK_IG-ALUT.O6" name="LUT5toLUT8" out_port="BEL_MX-F7AMUX.I1"/>
    </direct>
    <direct name="F7AMUX_S"  input="BLK_IG-SLICEM.AX" output="BEL_MX-F7AMUX.S" />
    <!-- F7BMUX inputs -->
    <direct name="F7BMUX_I0" input="BLK_IG-DLUT.O6"   output="BEL_MX-F7BMUX.I0">
     <pack_pattern in_port="BLK_IG-DLUT.O6" name="LUT5toLUT7" out_port="BEL_MX-F7BMUX.I0"/>
     <pack_pattern in_port="BLK_IG-DLUT.O6" name="LUT5toLUT8" out_port="BEL_MX-F7BMUX.I0"/>
    </direct>
    <direct name="F7BMUX_I1" input="BLK_IG-CLUT.O6"   output="BEL_MX-F7BMUX.I1">
     <pack_pattern in_port="BLK_IG-CLUT.O6" name="LUT5toLUT7" out_port="BEL_MX-F7BMUX.I1"/>
     <pack_pattern in_port="BLK_IG-CLUT.O6" name="LUT5toLUT8" out_port="BEL_MX-F7BMUX.I1"/>
    </direct>
    <direct name="F7BMUX_S"  input="BLK_IG-SLICEM.CX" output="BEL_MX-F7BMUX.S" />
    <!-- F8MUX inputs -->
    <direct name="F8MUX_I0"  input="BEL_MX-F7BMUX.O"  output="BEL_MX-F8MUX.I0">
     <pack_pattern in_port="BEL_MX-F7BMUX.O" name="LUT5toLUT8" out_port="BEL_MX-F8MUX.I0"/>
    </direct>
    <direct name="F8MUX_I1"  input="BEL_MX-F7AMUX.O"  output="BEL_MX-F8MUX.I1">
     <pack_pattern in_port="BEL_MX-F7AMUX.O" name="LUT5toLUT8" out_port="BEL_MX-F8MUX.I1"/>
    </direct>
    <direct name="F8MUX_S"   input="BLK_IG-SLICEM.BX" output="BEL_MX-F8MUX.S" />

    <!-- [A-D]MUX -->
    <mux name="DMUX"
      input="BLK_BB-SLICE_FF.Q5[3] BLK_IG-CARRY[3].O BLK_IG-CARRY[3].CO BLK_IG-DLUT.O6 BLK_IG-DLUT.O5"
      output="BLK_IG-SLICEM.DMUX">
      <metadata>
        <meta name="fasm_mux">
          BLK_BB-SLICE_FF.Q5[3] = DMUX.D5Q
          BLK_IG-DLUT.O5 = DMUX.O5
          BLK_IG-DLUT.O6 = DMUX.O6
          BLK_IG-CARRY[3].CO = DMUX.CY
          BLK_IG-CARRY[3].O = DMUX.XOR
        </meta>
      </metadata>
    </mux>
    <mux name="CMUX"
      input="BLK_BB-SLICE_FF.Q5[2] BLK_IG-CARRY[2].O BLK_IG-CARRY[2].CO BLK_IG-CLUT.O6 BLK_IG-CLUT.O5 BEL_MX-F7BMUX.O"
      output="BLK_IG-SLICEM.CMUX" >
      <metadata>
        <meta name="fasm_mux">
          BLK_BB-SLICE_FF.Q5[2] = CMUX.C5Q
          BEL_MX-F7BMUX.O = CMUX.F7
          BLK_IG-CLUT.O5 = CMUX.O5
          BLK_IG-CLUT.O6 = CMUX.O6
          BLK_IG-CARRY[2].CO = CMUX.CY
          BLK_IG-CARRY[2].O = CMUX.XOR
        </meta>
      </metadata>
    </mux>
    <mux name="BMUX"
      input="BLK_BB-SLICE_FF.Q5[1] BLK_IG-CARRY[1].O BLK_IG-CARRY[1].CO BLK_IG-BLUT.O6 BLK_IG-BLUT.O5 BEL_MX-F8MUX.O"
      output="BLK_IG-SLICEM.BMUX" >
      <metadata>
        <meta name="fasm_mux">
          BLK_BB-SLICE_FF.Q5[1] = BMUX.B5Q
          BEL_MX-F8MUX.O = BMUX.F8
          BLK_IG-BLUT.O5 = BMUX.O5
          BLK_IG-BLUT.O6 = BMUX.O6
          BLK_IG-CARRY[1].CO = BMUX.CY
          BLK_IG-CARRY[1].O = BMUX.XOR
        </meta>
      </metadata>
    </mux>
    <mux name="AMUX"
      input="BLK_BB-SLICE_FF.Q5[0] BLK_IG-CARRY[0].O BLK_IG-CARRY[0].CO BLK_IG-ALUT.O6 BLK_IG-ALUT.O5 BEL_MX-F7AMUX.O"
      output="BLK_IG-SLICEM.AMUX" >
      <metadata>
        <meta name="fasm_mux">
          BLK_BB-SLICE_FF.Q5[0] = AMUX.A5Q
          BEL_MX-F7AMUX.O = AMUX.F7
          BLK_IG-ALUT.O5 = AMUX.O5
          BLK_IG-ALUT.O6 = AMUX.O6
          BLK_IG-CARRY[0].CO = AMUX.CY
          BLK_IG-CARRY[0].O = AMUX.XOR
        </meta>
      </metadata>
    </mux>

    <!-- [A-D]FFMUX -->
    <mux name="DFFMUX"
      input="BLK_IG-CARRY[3].O BLK_IG-CARRY[3].CO BLK_IG-DLUT.O6 BLK_IG-DLUT.O5 BLK_IG-SLICEM.DX"
      output="BLK_BB-SLICE_FF.D[3]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-SLICEM.DX = DFF.DMUX.DX
          BLK_IG-DLUT.O5 = DFF.DMUX.O5
          BLK_IG-DLUT.O6 = DFF.DMUX.O6
          BLK_IG-CARRY[3].CO = DFF.DMUX.CY
          BLK_IG-CARRY[3].O = DFF.DMUX.XOR
        </meta>
      </metadata>
    </mux>
    <mux name="CFFMUX"
      input="BLK_IG-CARRY[2].O BLK_IG-CARRY[2].CO BLK_IG-CLUT.O6 BLK_IG-CLUT.O5 BLK_IG-SLICEM.CX BEL_MX-F7BMUX.O"
      output="BLK_BB-SLICE_FF.D[2]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-SLICEM.CX = CFF.DMUX.CX
          BEL_MX-F7BMUX.O = CFF.DMUX.F7
          BLK_IG-CLUT.O5 = CFF.DMUX.O5
          BLK_IG-CLUT.O6 = CFF.DMUX.O6
          BLK_IG-CARRY[2].CO = CFF.DMUX.CY
          BLK_IG-CARRY[2].O = CFF.DMUX.XOR
        </meta>
      </metadata>
    </mux>
    <mux name="BFFMUX"
      input="BLK_IG-CARRY[1].O BLK_IG-CARRY[1].CO BLK_IG-BLUT.O6 BLK_IG-BLUT.O5 BLK_IG-SLICEM.BX BEL_MX-F8MUX.O"
      output="BLK_BB-SLICE_FF.D[1]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-SLICEM.BX = BFF.DMUX.BX
          BEL_MX-F8MUX.O = BFF.DMUX.F8
          BLK_IG-BLUT.O5 = BFF.DMUX.O5
          BLK_IG-BLUT.O6 = BFF.DMUX.O6
          BLK_IG-CARRY[1].CO = BFF.DMUX.CY
          BLK_IG-CARRY[1].O = BFF.DMUX.XOR
        </meta>
      </metadata>
    </mux>
    <mux name="AFFMUX"
      input="BLK_IG-CARRY[0].O BLK_IG-CARRY[0].CO BLK_IG-ALUT.O6 BLK_IG-ALUT.O5 BLK_IG-SLICEM.AX BEL_MX-F7AMUX.O"
      output="BLK_BB-SLICE_FF.D[0]" >
      <metadata>
        <meta name="fasm_mux">
          BLK_IG-SLICEM.AX = AFF.DMUX.AX
          BEL_MX-F7AMUX.O = AFF.DMUX.F7
          BLK_IG-ALUT.O5 = AFF.DMUX.O5
          BLK_IG-ALUT.O6 = AFF.DMUX.O6
          BLK_IG-CARRY[0].CO = AFF.DMUX.CY
          BLK_IG-CARRY[0].O = AFF.DMUX.XOR
        </meta>
      </metadata>
    </mux>

    <!-- [A-F]Q outputs -->
    <direct name="AFF" input="BLK_BB-SLICE_FF.Q[0]" output="BLK_IG-SLICEM.AQ" />
    <direct name="BFF" input="BLK_BB-SLICE_FF.Q[1]" output="BLK_IG-SLICEM.BQ" />
    <direct name="CFF" input="BLK_BB-SLICE_FF.Q[2]" output="BLK_IG-SLICEM.CQ" />
    <direct name="DFF" input="BLK_BB-SLICE_FF.Q[3]" output="BLK_IG-SLICEM.DQ" />

    <!-- LUT O6 output -->
    <direct name="BLK_IG-SLICEM_DOUT" input="BLK_IG-DLUT.O6" output="BLK_IG-SLICEM.D" />
    <direct name="BLK_IG-SLICEM_COUT" input="BLK_IG-CLUT.O6" output="BLK_IG-SLICEM.C" />
    <direct name="BLK_IG-SLICEM_BOUT" input="BLK_IG-BLUT.O6" output="BLK_IG-SLICEM.B" />
    <direct name="BLK_IG-SLICEM_AOUT" input="BLK_IG-ALUT.O6" output="BLK_IG-SLICEM.A" />

    <!-- Carry -->

    <!-- Carry initialization -->
    <direct name="AX_TO_CYINIT_FABRIC" input="BLK_IG-SLICEM.AX" output="BEL_BB-CYINIT_FABRIC.CI_FABRIC" />
    <mux name="PRECYINIT_MUX" input="BEL_BB-CYINIT_FABRIC.CI_CHAIN BLK_IG-SLICEM.AX BLK_IG-SLICEM.CIN BEL_BB-CYINIT_CONSTANTS.C0 BEL_BB-CYINIT_CONSTANTS.C1" output="BLK_IG-CARRY[0].CIN">
      <pack_pattern name="CARRYCHAIN" in_port="BLK_IG-SLICEM.CIN" out_port="BLK_IG-CARRY[0].CIN"/>
      <metadata>
        <meta name="fasm_mux">
          BEL_BB-CYINIT_CONSTANTS.C0 = NULL
          BEL_BB-CYINIT_CONSTANTS.C1 = PRECYINIT.1
          BLK_IG-CYINIT_FABRIC.CI_CHAIN = PRECYINIT.AX
          BLK_IG-SLICEM.AX = PRECYINIT.AX
          BLK_IG-SLICEM.CIN = PRECYINIT.CIN
        </meta>
      </metadata>
    </mux>

    <!-- Tile internal carry -->
    <direct name="CARRY0_TO_CARRY1"    input="BLK_IG-CARRY[0].COUT"   output="BLK_IG-CARRY[1].CIN"      >
      <pack_pattern name="CARRYCHAIN" in_port="BLK_IG-CARRY[0].COUT" out_port="BLK_IG-CARRY[1].CIN"/>
    </direct>
    <direct name="CARRY1_TO_CARRY2"    input="BLK_IG-CARRY[1].COUT"   output="BLK_IG-CARRY[2].CIN"      >
      <pack_pattern name="CARRYCHAIN" in_port="BLK_IG-CARRY[1].COUT" out_port="BLK_IG-CARRY[2].CIN"/>
    </direct>
    <direct name="CARRY2_TO_CARRY3"    input="BLK_IG-CARRY[2].COUT"   output="BLK_IG-CARRY[3].CIN"      >
      <pack_pattern name="CARRYCHAIN" in_port="BLK_IG-CARRY[2].COUT" out_port="BLK_IG-CARRY[3].CIN"/>
    </direct>

    <!-- Carry selects -->
    <direct name="CARRY_S3" input="BLK_IG-DLUT.O6" output="BLK_IG-CARRY[3].S" />
    <direct name="CARRY_S2" input="BLK_IG-CLUT.O6" output="BLK_IG-CARRY[2].S" />
    <direct name="CARRY_S1" input="BLK_IG-BLUT.O6" output="BLK_IG-CARRY[1].S" />
    <direct name="CARRY_S0" input="BLK_IG-ALUT.O6" output="BLK_IG-CARRY[0].S" />

    <!-- Carry MUXCY.DI -->
    <mux name="CARRY_DI3" input="BLK_IG-DLUT.O5 BLK_IG-SLICEM.DX" output="BLK_IG-CARRY[3].DI" >
      <metadata>
        <meta name="fasm_mux">
          <!-- Double check this, it might be backwards! -->
          BLK_IG-DLUT.O5 = NULL
          BLK_IG-SLICEM.DX = CARRY4.DCY0
        </meta>
      </metadata>
    </mux>
    <mux name="CARRY_DI2" input="BLK_IG-CLUT.O5 BLK_IG-SLICEM.CX" output="BLK_IG-CARRY[2].DI" >
      <metadata>
        <meta name="fasm_mux">
          <!-- Double check this, it might be backwards! -->
          BLK_IG-CLUT.O5 = NULL
          BLK_IG-SLICEM.CX = CARRY4.CCY0
        </meta>
      </metadata>
    </mux>
    <mux name="CARRY_DI1" input="BLK_IG-BLUT.O5 BLK_IG-SLICEM.BX" output="BLK_IG-CARRY[1].DI" >
      <metadata>
        <meta name="fasm_mux">
          <!-- Double check this, it might be backwards! -->
          BLK_IG-BLUT.O5 = NULL
          BLK_IG-SLICEM.BX = CARRY4.BCY0
        </meta>
      </metadata>
    </mux>
    <mux name="CARRY_DI0" input="BLK_IG-ALUT.O5 BLK_IG-SLICEM.AX" output="BLK_IG-CARRY[0].DI" >
      <metadata>
        <meta name="fasm_mux">
          <!-- Double check this, it might be backwards! -->
          BLK_IG-ALUT.O5 = NULL
          BLK_IG-SLICEM.AX = CARRY4.ACY0
        </meta>
      </metadata>
    </mux>

    <direct name="COUT" input="BLK_IG-CARRY[3].COUT" output="BLK_IG-SLICEM.COUT"  >
      <pack_pattern name="CARRYCHAIN" in_port="BLK_IG-CARRY[3].COUT" out_port="BLK_IG-SLICEM.COUT"/>
    </direct>

    <!-- Clock, Clock Enable and Reset -->
    <direct name="CK" input="BLK_IG-SLICEM.CLK" output="BLK_BB-SLICE_FF.CK"/>
    <direct name="CE" input="BLK_IG-SLICEM.CE"  output="BLK_BB-SLICE_FF.CE"/>
    <direct name="SR" input="BLK_IG-SLICEM.SR"  output="BLK_BB-SLICE_FF.SR"/>
    <!-- FIXME -->
    <mux name="WE1" input="BLK_IG-SLICEM.CE BLK_IG-SLICEM.WE"  output="BLK_IG-ALUT.WE"/>
    <mux name="WE2" input="BLK_IG-SLICEM.CE BLK_IG-SLICEM.WE"  output="BLK_IG-BLUT.WE"/>
    <mux name="WE3" input="BLK_IG-SLICEM.CE BLK_IG-SLICEM.WE"  output="BLK_IG-CLUT.WE"/>
    <mux name="WE4" input="BLK_IG-SLICEM.CE BLK_IG-SLICEM.WE"  output="BLK_IG-DLUT.WE"/>

  </interconnect>
</pb_type>
